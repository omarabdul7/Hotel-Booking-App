{"ast":null,"code":"var _jsxFileName = \"/Users/omarabdul/Desktop/databases/src/components/Bookings.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Bookings() {\n  _s();\n  const [customer, setCustomer] = useState({\n    email: '',\n    password: ''\n  });\n  const [bookings, setBookings] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCustomer(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const authenticateCustomer = () => {\n    fetch('http://localhost:3001/verify-customer', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: customer.email,\n        password: customer.password\n      })\n    }).then(response => {\n      if (!response.ok) throw new Error('Invalid credentials');\n      return response.json();\n    }).then(data => {\n      if (data.isValid) {\n        setIsAuthenticated(true);\n        fetchBookings(data.customerID);\n      } else {\n        alert('Authentication failed. Please check your credentials and try again.');\n      }\n    }).catch(error => {\n      console.error('Authentication error:', error);\n    });\n  };\n  const fetchBookings = customerID => {\n    // Assuming you have an endpoint to fetch bookings by customer ID\n    fetch(`http://localhost:3001/bookings?customerID=${customerID}`).then(response => response.json()).then(data => {\n      setBookings(data);\n    }).catch(error => console.error('Error fetching bookings:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        authenticateCustomer();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        value: customer.email,\n        onChange: handleChange,\n        placeholder: \"Email\",\n        style: {\n          padding: '10px',\n          margin: '5px 0',\n          borderRadius: '4px',\n          border: '1px solid #ddd',\n          width: 'calc(40% - 22px)' // accounting for padding and border\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: customer.password,\n        onChange: handleChange,\n        placeholder: \"Password\",\n        style: {\n          padding: '10px',\n          margin: '5px 0',\n          borderRadius: '4px',\n          border: '1px solid #ddd',\n          width: 'calc(40% - 22px)' // same reason as above\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 3\n      }, this), bookings.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: bookings.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '20px',\n            padding: '10px',\n            border: '1px solid #ccc',\n            borderRadius: '5px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Hotel: \", booking.HotelName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Room ID: \", booking.Room_ID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Price: $\", booking.Price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Check-in: \", `${booking.Checkin_Day}/${booking.Checkin_Month}/${booking.Checkin_Year}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Check-out: \", `${booking.Checkout_Day}/${booking.Checkout_Month}/${booking.Checkout_Year}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)]\n        }, booking.Booking_ID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No bookings found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Bookings, \"PCBWlGyZCFslx6uXJnHKJ3idDSo=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Bookings","_s","customer","setCustomer","email","password","bookings","setBookings","isAuthenticated","setIsAuthenticated","handleChange","e","name","value","target","prevState","authenticateCustomer","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","json","data","isValid","fetchBookings","customerID","alert","catch","error","console","children","onSubmit","preventDefault","onChange","placeholder","style","padding","margin","borderRadius","border","width","fileName","_jsxFileName","lineNumber","columnNumber","type","length","map","booking","HotelName","Room_ID","Price","Checkin_Day","Checkin_Month","Checkin_Year","Checkout_Day","Checkout_Month","Checkout_Year","Booking_ID","_c","$RefreshReg$"],"sources":["/Users/omarabdul/Desktop/databases/src/components/Bookings.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction Bookings() {\n  const [customer, setCustomer] = useState({ email: '', password: '' });\n  const [bookings, setBookings] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCustomer(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const authenticateCustomer = () => {\n    fetch('http://localhost:3001/verify-customer', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        email: customer.email,\n        password: customer.password\n      }),\n    })\n    .then(response => {\n      if (!response.ok) throw new Error('Invalid credentials');\n      return response.json();\n    })\n    .then(data => {\n      if (data.isValid) {\n        setIsAuthenticated(true);\n        fetchBookings(data.customerID);\n      } else {\n        alert('Authentication failed. Please check your credentials and try again.');\n      }\n    })\n    .catch(error => {\n      console.error('Authentication error:', error);\n    });\n  };\n\n  const fetchBookings = (customerID) => {\n    // Assuming you have an endpoint to fetch bookings by customer ID\n    fetch(`http://localhost:3001/bookings?customerID=${customerID}`)\n    .then(response => response.json())\n    .then(data => {\n      setBookings(data);\n    })\n    .catch(error => console.error('Error fetching bookings:', error));\n  };\n\n  return (\n    <div>\n      {!isAuthenticated ? (\n        <form onSubmit={e => {\n          e.preventDefault();\n          authenticateCustomer();\n        }}>\n          <input\n            name=\"email\"\n            value={customer.email}\n            onChange={handleChange}\n            placeholder=\"Email\"\n            style={{\n              padding: '10px',\n              margin: '5px 0',\n              borderRadius: '4px',\n              border: '1px solid #ddd',\n              width: 'calc(40% - 22px)', // accounting for padding and border\n            }}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={customer.password}\n            onChange={handleChange}\n            placeholder=\"Password\"\n            style={{\n              padding: '10px',\n              margin: '5px 0',\n              borderRadius: '4px',\n              border: '1px solid #ddd',\n              width: 'calc(40% - 22px)', // same reason as above\n            }}\n          />\n          <button type=\"submit\">Sign In</button>\n        </form>\n      ) : (\n<div>\n  <h2>Your Bookings</h2>\n  {bookings.length > 0 ? (\n    <div>\n      {bookings.map(booking => (\n        <div key={booking.Booking_ID} style={{ margin: '20px', padding: '10px', border: '1px solid #ccc', borderRadius: '5px' }}>\n          <h3>Hotel: {booking.HotelName}</h3>\n          <p>Room ID: {booking.Room_ID}</p>\n          <p>Price: ${booking.Price}</p>\n          <p>Check-in: {`${booking.Checkin_Day}/${booking.Checkin_Month}/${booking.Checkin_Year}`}</p>\n          <p>Check-out: {`${booking.Checkout_Day}/${booking.Checkout_Month}/${booking.Checkout_Year}`}</p>\n        </div>\n      ))}\n    </div>\n  ) : (\n    <p>No bookings found.</p>\n  )}\n</div>\n      )}\n    </div>\n  );\n}\n\nexport default Bookings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}