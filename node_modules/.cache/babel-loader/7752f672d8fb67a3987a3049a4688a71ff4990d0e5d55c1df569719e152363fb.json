{"ast":null,"code":"var _jsxFileName = \"/Users/omarabdul/Desktop/databases/src/components/Bookings.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Bookings() {\n  _s();\n  const [customer, setCustomer] = useState({\n    email: '',\n    password: ''\n  });\n  const [bookings, setBookings] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCustomer(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const authenticateCustomer = () => {\n    fetch('http://localhost:3001/verify-customer', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: customer.email,\n        password: customer.password\n      })\n    }).then(response => {\n      if (!response.ok) throw new Error('Invalid credentials');\n      return response.json();\n    }).then(data => {\n      if (data.isValid) {\n        setIsAuthenticated(true);\n        fetchBookings(data.customerID);\n      } else {\n        alert('Authentication failed. Please check your credentials and try again.');\n      }\n    }).catch(error => {\n      console.error('Authentication error:', error);\n    });\n  };\n  const fetchBookings = customerID => {\n    // Assuming you have an endpoint to fetch bookings by customer ID\n    fetch(`http://localhost:3001/bookings?customerID=${customerID}`).then(response => response.json()).then(data => {\n      setBookings(data);\n    }).catch(error => console.error('Error fetching bookings:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        authenticateCustomer();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        value: customer.email,\n        onChange: handleChange,\n        placeholder: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: customer.password,\n        onChange: handleChange,\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), bookings.length > 0 ? bookings.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Booking ID: \", booking.bookingID]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)\n      }, booking.bookingID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No bookings found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Bookings, \"PCBWlGyZCFslx6uXJnHKJ3idDSo=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Bookings","_s","customer","setCustomer","email","password","bookings","setBookings","isAuthenticated","setIsAuthenticated","handleChange","e","name","value","target","prevState","authenticateCustomer","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","json","data","isValid","fetchBookings","customerID","alert","catch","error","console","children","onSubmit","preventDefault","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","type","length","map","booking","bookingID","_c","$RefreshReg$"],"sources":["/Users/omarabdul/Desktop/databases/src/components/Bookings.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction Bookings() {\n  const [customer, setCustomer] = useState({ email: '', password: '' });\n  const [bookings, setBookings] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCustomer(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const authenticateCustomer = () => {\n    fetch('http://localhost:3001/verify-customer', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        email: customer.email,\n        password: customer.password\n      }),\n    })\n    .then(response => {\n      if (!response.ok) throw new Error('Invalid credentials');\n      return response.json();\n    })\n    .then(data => {\n      if (data.isValid) {\n        setIsAuthenticated(true);\n        fetchBookings(data.customerID);\n      } else {\n        alert('Authentication failed. Please check your credentials and try again.');\n      }\n    })\n    .catch(error => {\n      console.error('Authentication error:', error);\n    });\n  };\n\n  const fetchBookings = (customerID) => {\n    // Assuming you have an endpoint to fetch bookings by customer ID\n    fetch(`http://localhost:3001/bookings?customerID=${customerID}`)\n    .then(response => response.json())\n    .then(data => {\n      setBookings(data);\n    })\n    .catch(error => console.error('Error fetching bookings:', error));\n  };\n\n  return (\n    <div>\n      {!isAuthenticated ? (\n        <form onSubmit={e => {\n          e.preventDefault();\n          authenticateCustomer();\n        }}>\n          <input\n            name=\"email\"\n            value={customer.email}\n            onChange={handleChange}\n            placeholder=\"Email\"\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={customer.password}\n            onChange={handleChange}\n            placeholder=\"Password\"\n          />\n          <button type=\"submit\">Sign In</button>\n        </form>\n      ) : (\n        <div>\n          <h2>Your Bookings</h2>\n          {bookings.length > 0 ? (\n            bookings.map(booking => (\n              <div key={booking.bookingID}>\n                {/* Display booking details */}\n                <p>Booking ID: {booking.bookingID}</p>\n                {/* Add more details as needed */}\n              </div>\n            ))\n          ) : (\n            <p>No bookings found.</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Bookings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}